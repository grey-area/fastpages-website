<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Observing Functions of Random Variables in PyMC | Andrew M. Webb</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Observing Functions of Random Variables in PyMC" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Inferring the position of a lighthouse." />
<meta property="og:description" content="Inferring the position of a lighthouse." />
<link rel="canonical" href="http://www.awebb.info/probability/inference/mcmc/2017/02/22/observing-functions-of-random-variables-in-pymc.html" />
<meta property="og:url" content="http://www.awebb.info/probability/inference/mcmc/2017/02/22/observing-functions-of-random-variables-in-pymc.html" />
<meta property="og:site_name" content="Andrew M. Webb" />
<meta property="og:image" content="http://www.awebb.info/images/blog_posts/observing_functions_pymc.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-02-22T00:00:00-06:00" />
<script type="application/ld+json">
{"image":"http://www.awebb.info/images/blog_posts/observing_functions_pymc.png","description":"Inferring the position of a lighthouse.","@type":"BlogPosting","url":"http://www.awebb.info/probability/inference/mcmc/2017/02/22/observing-functions-of-random-variables-in-pymc.html","headline":"Observing Functions of Random Variables in PyMC","dateModified":"2017-02-22T00:00:00-06:00","datePublished":"2017-02-22T00:00:00-06:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://www.awebb.info/probability/inference/mcmc/2017/02/22/observing-functions-of-random-variables-in-pymc.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="http://www.awebb.info/feed.xml" title="Andrew M. Webb" /><!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-21765629-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>

<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Observing Functions of Random Variables in PyMC | Andrew M. Webb</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Observing Functions of Random Variables in PyMC" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Inferring the position of a lighthouse." />
<meta property="og:description" content="Inferring the position of a lighthouse." />
<link rel="canonical" href="http://www.awebb.info/probability/inference/mcmc/2017/02/22/observing-functions-of-random-variables-in-pymc.html" />
<meta property="og:url" content="http://www.awebb.info/probability/inference/mcmc/2017/02/22/observing-functions-of-random-variables-in-pymc.html" />
<meta property="og:site_name" content="Andrew M. Webb" />
<meta property="og:image" content="http://www.awebb.info/images/blog_posts/observing_functions_pymc.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-02-22T00:00:00-06:00" />
<script type="application/ld+json">
{"image":"http://www.awebb.info/images/blog_posts/observing_functions_pymc.png","description":"Inferring the position of a lighthouse.","@type":"BlogPosting","url":"http://www.awebb.info/probability/inference/mcmc/2017/02/22/observing-functions-of-random-variables-in-pymc.html","headline":"Observing Functions of Random Variables in PyMC","dateModified":"2017-02-22T00:00:00-06:00","datePublished":"2017-02-22T00:00:00-06:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://www.awebb.info/probability/inference/mcmc/2017/02/22/observing-functions-of-random-variables-in-pymc.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="http://www.awebb.info/feed.xml" title="Andrew M. Webb" /><!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-21765629-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"> </script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Andrew M. Webb</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About Me</a><a class="page-link" href="/cv/">CV</a><a class="page-link" href="/qcirc/">QCircuits</a><a class="page-link" href="/search/">Search Blog</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Observing Functions of Random Variables in PyMC</h1><p class="page-description">Inferring the position of a lighthouse.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2017-02-22T00:00:00-06:00" itemprop="datePublished">
        Feb 22, 2017
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      8 min read
    
</span></p>

    

    
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#Coin-Bias-Inference-Example">Coin Bias Inference Example </a></li>
<li class="toc-entry toc-h2"><a href="#Deterministic-Nodes">Deterministic Nodes </a></li>
<li class="toc-entry toc-h2"><a href="#The-Lighthouse-Problem">The Lighthouse Problem </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Creating-the-data">Creating the data </a></li>
<li class="toc-entry toc-h3"><a href="#First-modelling-attempt">First modelling attempt </a></li>
<li class="toc-entry toc-h3"><a href="#Why-doesn't-it-work?">Why doesn&#39;t it work? </a></li>
<li class="toc-entry toc-h3"><a href="#How-to-do-it-properly">How to do it properly </a></li>
</ul>
</li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2017-02-22-observing-functions-of-random-variables-in-pymc.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I've recently been teaching myself to use the MCMC library <a href="https://pymc-devs.github.io/pymc3/">PyMC</a>, and had some confusion when trying to solve a (seemingly) simple inference problem. 
The purpose of this blog post to clear up that confusion.</p>
<p>I'll assume the reader is familiar with Bayes' Theorem and how it might be applied to reassign probabilities to hypotheses after observing data.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First let's import the usual libraries, as well as my own utils functions for plotting.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pymc</span> <span class="k">as</span> <span class="nn">pm</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">utils</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Coin-Bias-Inference-Example">
<a class="anchor" href="#Coin-Bias-Inference-Example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Coin Bias Inference Example<a class="anchor-link" href="#Coin-Bias-Inference-Example"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As a simple illustration of the way in which you build up models in PyMC, let's look at the typical problem of infering the bias of a coin.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">true_coin_bias</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="c1"># The (unknown) bias of the coin</span>
<span class="n">num_flips</span> <span class="o">=</span> <span class="mi">100</span>

<span class="c1"># The given data, the result of 100 coin flips</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="n">true_coin_bias</span><span class="p">,</span> <span class="n">true_coin_bias</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="n">num_flips</span><span class="p">)</span>

<span class="c1"># We want to infer the bias, p.</span>
<span class="c1"># Since p is unknown, it is a random variable.</span>
<span class="c1"># The distribution we assign to it here is our prior distribution on p, uniform on the range [0, 1].</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="s2">"p"</span><span class="p">,</span> <span class="n">lower</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># We need another random variable for our observations.</span>
<span class="c1"># We give the relevant data to the value argument.</span>
<span class="c1"># The observed flag stops the value changing during MCMC exploration.</span>
<span class="n">observations</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Bernoulli</span><span class="p">(</span><span class="s2">"obs"</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">observed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Model</span><span class="p">([</span><span class="n">p</span><span class="p">,</span> <span class="n">observations</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So far, we have stated our prior distribution on $p$, and declared that the likelihood function of each of our coin flip observations is a Bernoulli distribution with $p$ as its parameter. When we tell PyMC to do MCMC sampling, it samples from the distribution proportional to the product of these terms, i.e., the posterior distribution on $p$.</p>
<p>Graphically, the model looks as follows. Each node in the graph is a random variable. Arrows indicate parent/child relationships, and grey nodes are 'observed'.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">utils</span><span class="o">.</span><span class="n">display_graph</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea output_execute_result">
<img src="data:image/png;base64,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%0AiNFMBvk/DnamjQeTCoMAAAAASUVORK5CYII=%0A">
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The next step is to tell PyMC to perform MCMC sampling. The histogram of samples approximates the posterior. The black line shows the true value.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mcmc</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">MCMC</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="n">mcmc</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">50000</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span> <span class="c1"># 50000 steps, with a burn in period of 5000</span>

<span class="c1"># Samples from our posterior on p</span>
<span class="n">p_samples</span> <span class="o">=</span> <span class="n">mcmc</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="s2">"p"</span><span class="p">)[:]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">p_samples</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">normed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_coin_bias</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">"k"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">"p"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">"Approximate posterior of p"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre> [-----------------100%-----------------] 50000 of 50000 complete in 1.7 sec</pre>
</div>
</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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%0A">
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Deterministic-Nodes">
<a class="anchor" href="#Deterministic-Nodes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Deterministic Nodes<a class="anchor-link" href="#Deterministic-Nodes"> </a>
</h2>
<p>Next let's look at an example of a model which includes a deterministic node, that is, a node whose value is known if the values of its parent nodes are known. Such nodes do not contribute a term to the posterior.</p>
<p>In this example we have some samples from a normal distribution, and we will infer the standard deviation parameter of that normal distribution.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">true_sigma</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="c1"># The true (unknown) value of the standard deviation, sigma</span>
<span class="n">num_samples</span> <span class="o">=</span> <span class="mi">500</span>

<span class="c1"># Some samples from the distribution</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="n">true_sigma</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">num_samples</span><span class="p">)</span>

<span class="c1"># Our prior on sigma. An exponential with expected value 1/beta = 100</span>
<span class="n">sigma</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Exponential</span><span class="p">(</span><span class="s2">"sigma"</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>

<span class="c1"># PyMCs Normal distribution accepts a precision parameter rather than a standard deviation or variance parameter. The precision tau = 1.0/sigma**2.</span>
<span class="c1"># For this we need a deterministic node, which can be set up as follows.</span>
<span class="nd">@pm</span><span class="o">.</span><span class="n">deterministic</span>
<span class="k">def</span> <span class="nf">tau</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="n">sigma</span><span class="p">):</span>
    <span class="k">return</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">sigma</span><span class="o">**</span><span class="mi">2</span>

<span class="c1"># A node for our observations, with a single parent parameter tau.</span>
<span class="n">observations</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="s2">"obs"</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tau</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">observed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Model</span><span class="p">([</span><span class="n">sigma</span><span class="p">,</span> <span class="n">observations</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <em>@pm.deterministic</em> decorator sets up a deterministic node whose value is given by the function following the decorator, and whose parents are the parameters of that function.</p>
<p>Let's look at the graph of this model, in which the deterministic node in indicated with a triangle.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">utils</span><span class="o">.</span><span class="n">display_graph</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea output_execute_result">
<img src="data:image/png;base64,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%0ArkJggg==%0A">
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Sigma is a random variable which we have a prior over. The value of Tau depends deterministically on Sigma. Our observations are random variables the likelihood function of which takes Tau as a parameter. The Tau node does not contribute directly to the posterior. When we tell PyMC to perform MCMC sampling, we sample from the distribution proportional to the prior over Sigma multiplied by the likelihood functions of the observations.</p>
<p>Now let's perform MCMC sampling and look at the histogram of samples from the posterior. Again, the black line shows the true value.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mcmc</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">MCMC</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="n">mcmc</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">50000</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>

<span class="n">sigma_samples</span> <span class="o">=</span> <span class="n">mcmc</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="s2">"sigma"</span><span class="p">)[:]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">sigma_samples</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">normed</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_sigma</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">"k"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">"Approximate posterior of sigma"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">"sigma"</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre> [-----------------100%-----------------] 50000 of 50000 complete in 2.4 sec</pre>
</div>
</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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%0AS1Jj/j9rjqRW85C3iAAAAABJRU5ErkJggg==%0A">
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="The-Lighthouse-Problem">
<a class="anchor" href="#The-Lighthouse-Problem" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Lighthouse Problem<a class="anchor-link" href="#The-Lighthouse-Problem"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Consider the following problem adapted from Gull (1988). There exists a lighthouse $\alpha$ miles along a straight coastline (relative to some position $x=0$) and $\beta$ miles offshore. As it rotates, it briefly flashes highly collimated beams of light at random intervals. We have light detectors along the coastline, and so for the $k$th time the light flashes (not counting the times the light is facing <em>away</em> from the coast) we record a position $x_k$. Given a sequence of observations, infer the position coordinates $\alpha$ and $\beta$.</p>
<p>The relationships between all the variables for a single observation $x_k$ is shown below. Also shown is the angle $\theta_k$ that the $k$th beam makes with the line joining the lighthouse to the coast.</p>
<p><figure>
  
    <img class="docimage" src="/images/copied_from_nb/./local_images/2017-02-22-observing-functions-of-random-variables-in-pymc/lighthouse.png" alt="" style="max-width: 300px">
    
    
</figure>
</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Creating-the-data">
<a class="anchor" href="#Creating-the-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating the data<a class="anchor-link" href="#Creating-the-data"> </a>
</h3>
<p>For simplicity, let's assume that each time the lighthouse flashes the angle of the beam is sampled uniformly between [$-\pi / 2$, $\pi / 2$].</p>
<p>We can see from the diagram that $\frac{x_k - \alpha}{\beta} = \tan{\theta_k}$, so $x_k = \alpha + \beta \tan{\theta_k}$.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># The parameters to be inferred. We only know them here because we are synthesising the data.</span>
<span class="n">true_alpha</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">true_beta</span> <span class="o">=</span> <span class="mi">50</span>

<span class="n">num_flashes</span> <span class="o">=</span> <span class="mi">50</span>

<span class="c1"># Generate the angles</span>
<span class="n">true_thetas</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">low</span><span class="o">=-</span><span class="mf">0.5</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="mf">0.5</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">num_flashes</span><span class="p">)</span>

<span class="c1"># Generate the x coordinates of the flashes along the coastline</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">true_alpha</span> <span class="o">+</span> <span class="n">true_beta</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">true_thetas</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="First-modelling-attempt">
<a class="anchor" href="#First-modelling-attempt" aria-hidden="true"><span class="octicon octicon-link"></span></a>First modelling attempt<a class="anchor-link" href="#First-modelling-attempt"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Our prior distribution on alpha and beta.</span>
<span class="c1"># Alpha is normally distributed with a standard deviation of 50 miles.</span>
<span class="c1"># Beta is exponentially distributed with a mean value of 100 miles.</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="s2">"alpha"</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">/</span><span class="mi">50</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="n">beta</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Exponential</span><span class="p">(</span><span class="s2">"beta"</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
<span class="c1"># We have a prior distribution for the angle of the lighthouse for every time we observed a flash, uniform over [-pi/2, pi/2]</span>
<span class="n">thetas</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="s2">"thetas"</span><span class="p">,</span> <span class="n">lower</span><span class="o">=-</span><span class="mf">0.5</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mf">0.5</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">num_flashes</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now what? In this case, the vector of observations would be a deterministic function of alpha, beta, and the vector of angles, which we can set up as follows.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nd">@pm</span><span class="o">.</span><span class="n">deterministic</span>
<span class="k">def</span> <span class="nf">xs</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="n">beta</span><span class="p">,</span> <span class="n">thetas</span><span class="o">=</span><span class="n">thetas</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">alpha</span> <span class="o">+</span> <span class="n">beta</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">thetas</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Model</span><span class="p">([</span><span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="n">thetas</span><span class="p">,</span> <span class="n">xs</span><span class="p">])</span>
<span class="n">utils</span><span class="o">.</span><span class="n">display_graph</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea output_execute_result">
<img src="data:image/png;base64,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%0AbBgYIuL/AD9WX/QdHnmsAAAAAElFTkSuQmCC%0A">
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The graph of the model looks like what we wanted. Note though that I didn't indicate that the vector <em>xs</em> was <em>observed</em>, or link it to the data we have collected.</p>
<p>This is because a node in PyMC cannot be simultaneously deterministic and observed. Why not? I'm not the only person to have been confused by this (other examples can be found here: <a href="https://groups.google.com/forum/#!topic/pymc/gAImsliT34o">1</a> <a href="http://stats.stackexchange.com/questions/56543/pymc-how-can-i-define-a-function-of-two-stochastic-variables-with-no-closed-fo">2</a> <a href="http://stackoverflow.com/questions/40026052/observed-deterministic-in-pymc3">3</a> <a href="http://stackoverflow.com/questions/26397835/pymc-observed-data-for-a-sum-of-random-variables">4</a>)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Why-doesn't-it-work?">
<a class="anchor" href="#Why-doesn't-it-work?" aria-hidden="true"><span class="octicon octicon-link"></span></a>Why doesn't it work?<a class="anchor-link" href="#Why-doesn't-it-work?"> </a>
</h3>
<p>In order to understand why this is not possible, we need to remind ourselves how MCMC sampling works.</p>
<p>First, the values of all stochastic, non-observed nodes are initialised randomly. Then, a new position in the space of possible values for each of these nodes is considered. Whether we move to the new location depends on the value of the posterior distribution at the old location and at the new location, and this process is repeated.</p>
<p>Note that because <em>xs</em> is a deterministic function of its parents, the likelihood function for a given value of $x$, $p(x|\alpha, \beta, \theta)$ is <em>zero</em> for almost all values of $\alpha$, $\beta$, and $\theta$. As a result, the posterior distribution is also zero almost everywhere. Since almost everywhere the MCMC process looks, it sees a posterior probability of zero, it has no way to explore the space effectively.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="How-to-do-it-properly">
<a class="anchor" href="#How-to-do-it-properly" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to do it properly<a class="anchor-link" href="#How-to-do-it-properly"> </a>
</h3>
<p>There is a solution, but unfortunately we can't avoid doing a bit of work here. If we have a pdf $f(x)$ for the random variable $X$, then the pdf for the random variable $Y(X)$ is $f(x(y))\frac{dx}{dy}$.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>[TODO: clarify]</p>
<p>$f(\theta)$ is $1/\pi$ in the range [$-\pi/2, \pi/2$].</p>
<p>The pdf over $x$ is $\frac{\beta}{\pi (\beta^2 + (\alpha - x)^2)}$, defined over [$-\infty, \infty$], and is plotted below.</p>
<p>The log probability is then $\log(\beta) - \log(\pi) - \log((\alpha - x)^2)$.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">x_pdf</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">beta</span> <span class="o">/</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="p">(</span><span class="n">beta</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">alpha</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>

<span class="n">xs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">ps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">x_pdf</span><span class="p">)(</span><span class="n">xs</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.35</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">"x"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">"f(x)"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">ps</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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%0A">
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The proper way to define the model then is as follows.</p>
<p>The <em>@pm.stochastic</em> decorator sets up a stochastic node whose log-probability is as defined in the function that follows it. The first parameter of that function is the initial value, and the remaining parameters are the parent nodes. We can set the node to be <em>observed</em> by setting a flag within the decorator.</p>
<p>Since the function is to return the log probability of our vector of observations, we compute the vector of log probabilities and take the sum.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">alpha</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="s2">"alpha"</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">/</span><span class="mi">50</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="n">beta</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Exponential</span><span class="p">(</span><span class="s2">"beta"</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>

<span class="nd">@pm</span><span class="o">.</span><span class="n">stochastic</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"obs"</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">observed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">obs</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="n">beta</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">beta</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">beta</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">alpha</span><span class="o">-</span><span class="n">value</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Model</span><span class="p">([</span><span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="n">obs</span><span class="p">])</span>
<span class="n">utils</span><span class="o">.</span><span class="n">display_graph</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea output_execute_result">
<img src="data:image/png;base64,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%0A">
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's perform MCMC sampling and visualise the result.</p>
<p>The contour plot is an illustration of the posterior distribution over <em>alpha</em> and <em>beta</em>. The thick black line at the bottom of the plot illustrates the location of the coastline, with the yellow dots showing the locations where beam flashes were detected. The large black dot shows the true location of the lighthouse.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mcmc</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">MCMC</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="n">mcmc</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">20000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>

<span class="n">alpha_samples</span> <span class="o">=</span> <span class="n">mcmc</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="s2">"alpha"</span><span class="p">)[:]</span>
<span class="n">beta_samples</span> <span class="o">=</span> <span class="n">mcmc</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="s2">"beta"</span><span class="p">)[:]</span>
<span class="n">utils</span><span class="o">.</span><span class="n">plot_lighthouse_posterior</span><span class="p">(</span><span class="n">alpha_samples</span><span class="p">,</span> <span class="n">beta_samples</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">true_alpha</span><span class="p">,</span> <span class="n">true_beta</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre> [-----------------100%-----------------] 20000 of 20000 complete in 1.5 sec</pre>
</div>
</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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%0A4b7Va2Y21dQSEJIOphUON0XENwAiYltEvBoR+4AvA6fVUZuZmbXUsReTgOuAhyPiC7n22bnB3g9s%0A6HdtZmb2mjr2YvqPwO8CD0hal7V9ElgmaREQwCbgYzXUZmZmmTr2YvpXQImXbu93LWZm1p6PpDYz%0AsyQHhJmZJTkgzMwsyQFhZmZJDggzM0tyQJiZWZIDwszMkhwQZmaW5IAwM7MkB4SZmSU5IMzMLMkB%0AYWZmSQ4IMzNLckCYmVmSA8LMzJIcEGZmluSAMDOzJAeEmZklOSDMzCypcQEh6VxJj0p6XNKldddj%0AZjZVKSLqrmE/SdOAnwDnAJuBHwPLIuKhNsO/rvilS+Gcc+D55+GII2D1arjtts7vPTpekeFTw7Zr%0AW7689XjdulY9o3W1u1+9ujV80Vqq+CxNlpqnY2vv52eq4r0mMs0qP/PY31S3v62y6xikv9Vu6i3z%0A8115ZWt6t90Gf/InyUHujYiRjhOKiMbcgDOA7+aeXwZcNs7wkb8tXUq8+GLr5X37WvcvvthqHzts%0Au/E6DZ8atl3bnj2vlTtaT6f7PXteG69I7WV/lm7eq9+3dvM0X3s/P1MV7zWRaVb5mVO/qW5+W02e%0A102qt8zPd+WVB35XV16ZHG5NkWVy01YxHQc8nXu+OWvbT9JySWskrRk78jnnwNDQ6HCt+6GhVvt4%0A8uN1Gj41bLu26dPzdRe7nz79tfGK1F72Z2mydvM0X3s/P1MV7zWRaVb5mVO/qW5+W1XUMSh/q93U%0AW+bnW7r0wO9q6dKJT6tpAdFRRKyIiJFU92j1ati9e3S41v3u3a+ttmknP16n4VPDtmt7+eV83cXu%0AX375tfGK1F72Z2mydvM0X3s/P1MV7zWRaVb5mVO/qW5+W1XUMSh/q93UW+bnu+22A7+rXlZXNW0b%0AxBnAFRHxnuz5ZQAR8edthn9d8d4G4W0Q3gZRTh1jp+1tEN2ZDNsgmhYQB9HaSH02sIXWRuoPRcSD%0AqeEXLT41Vt91Tx8rNDMbfMfMOLhQQBzUj2KKiohXJF0MfBeYBqxsFw5mZlatRgUEQETcDtxedx1m%0AZlNdo1YxdUvS/wOeKmFSw8COEqZTNddZvkGpdVDqhMGpdVDqhPJrPT4iju400EAHRFkkrSl00EjN%0AXGf5BqXWQakTBqfWQakT6qt14HZzNTOz/nBAmJlZkgOiZUXdBRTkOss3KLUOSp0wOLUOSp1QU63e%0ABmFmZknuQZiZWdKUDQhJn5P0iKT1km6RdGTWPl/SHknrstu1ddcKzb1OhqS5kr4n6SFJD0r6g6z9%0ACklbcvNxSQNq3STpgayeNVnbUZJWS3osu5/ZgDpPzM23dZJekHRJE+appJWStkvakGtLzkO1/EX2%0AN7te0uIG1Nq4332bOtt+15Iuy+bpo5LeU2lxdZ/iu64b8G7goOzxZ4HPZo/nAxvqrm9MrdOAjcAJ%0AwBuB+4GT6q4rq202sDh7PIPWqVJOAq4A/qju+sbUugkYHtN2FXBp9vjS0b+Dptyy7/4Z4PgmzFPg%0AncDi/G+k3TwElgD/CAg4HbinAbU27nffps7kd539tu4HDgEWZMuFaVXVNmV7EBFxR0S8kj29G5hT%0AZz0dnAY8HhFPRMTPga8A59dcEwARsTUi1maPdwEPM+YU7Q13PnBD9vgG4NdrrCXlbGBjRJRxQGjP%0AIuIu4Nkxze3m4fnAjdFyN3CkpNn9qTRdaxN/923maTvnA1+JiL0R8STwOK3lQyWmbECM8RFa/+mM%0AWiDpPknfl3RmXUXldLxORhNImg+8HRg9g+LFWVd+ZRNW3dC6UModku6VlJ0TlmMjYmv2+Bng2HpK%0Aa+sC4Obc86bNU2g/D5v+d9v0333qu+7rPJ3UASHpnyRtSNzOzw1zOfAKcFPWtBWYFxFvB/4Q+HtJ%0Av9D/6geLpMOBVcAlEfECcA3wFmARrXl6dY3ljXpHRCwGzgM+Iemd+Rej1YdvzG59kt4IvA/4etbU%0AxHl6gKbNw3YG4HffiO+6cSfrK1NEvGu81yVdBLwXODv7wyYi9gJ7s8f3StoIvBV43RXs+mgLMDf3%0AfE7W1giSDqYVDjdFxDcAImJb7vUvA9+uqbz9ImJLdr9d0i20uubbJM2OiK3Z6o/ttRZ5oPOAtaPz%0AsonzNNNuHjby73YQfvfjfNd9naeTugcxHknnAn8MvC8iXsq1Hy1pWvb4BGAh8EQ9Ve73Y2ChpAXZ%0Af5UXALfWXBPQ2lMFuA54OCK+kGvPr2t+P7Bh7Lj9JGlI0ozRx7Q2Vm6gNR8vzAa7EPhWPRUmLSO3%0Aeqlp8zSn3Ty8FfhwtjfT6cDzuVVRtRiU3/043/WtwAWSDpG0gFadP6qskDq22jfhRmvjztPAuux2%0Abdb+AeDBrG0tsLTuWrO6ltDaQ2gjcHnd9eTqegetVQrrc/NyCfB3wANZ+63A7JrrPIHW3h/3Z9/v%0A5Vn7LOBO4DHgn4Cj6p6nWV1DwE7giFxb7fOUVmBtBf6d1vrvj7abh7T2XvpS9jf7ADDSgFob97tv%0AU2fb7xq4PJunjwLnVVmbj6Q2M7OkKbuKyczMxueAMDOzJAeEmZklOSDMzCzJAWFmZkkOCLMJUuvs%0AsMO9DmPWVA4IMzNLckCYFSDpm9lJ/h7Mnehv9LX52TUGbpL0sKR/kHRYbpD/JmmtWtei+MVsnNMk%0A/TA7Ody/STqxrx/IrAAHhFkxH4mIU4ER4PclzRrz+onAX0XELwEvAP8199qOaJ0k8Brgj7K2R4Az%0Ao3VyuP8JfLrS6s0mwAFhVszvS7qf1jUE5tI6B07e0xHxg+zx/6F1CpJR38ju76V1YRqAI4CvZ1cR%0A+yJwchVFm/XCAWHWgaSzgHcBZ0TErwD3AdPHDDb2nDX553uz+1d57QzKVwLfi4i3AUsT0zOrnQPC%0ArLMjgOci4qVsG8LpiWHmSToje/wh4F8LTHP0NM0XlVKlWckcEGadfQc4SNLDwGdorWYa61FaFyF6%0AGJhJa3vDeK4C/lzSfUzy67LY4PLZXM16lF1q9dvZ6iKzScM9CDMzS3IPwszMktyDMDOzJAeEmZkl%0AOSDMzCzJAWFmZkkOCDMzS3JAmJlZ0v8HkKB6vhRY6i4AAAAASUVORK5CYII=%0A">
</div>

</div>

</div>
</div>

</div>
    

</div>



  </div><a class="u-url" href="/probability/inference/mcmc/2017/02/22/observing-functions-of-random-variables-in-pymc.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p></p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/grey-area" title="grey-area"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/AndrewM_Webb" title="AndrewM_Webb"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
